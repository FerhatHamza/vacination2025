<!DOCTYPE html>
<html lang="fr">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Saisie Journali√®re ‚Äì Vaccination Antigrippale</title>
  <link rel="stylesheet" href="assets/style.css" />
</head>
<body onload="initPage()">
  <div class="container">
    <header class="header-bar">
      <img src="assets/logo.png" alt="Logo Sant√©" class="header-logo" />
      <div>
        <h2>√âvaluation Vaccination Antigrippale 2025/2026</h2>
        <p id="etabName"></p>
      </div>
      <button class="logout-btn" onclick="logout()">D√©connexion</button>
    </header>

    <section class="form-section">
      <h3>Saisie Journali√®re</h3>
      <p><b>Date:</b> <span id="today"></span></p>

      <form id="vaccinationForm" onsubmit="saveDailyData(event)">
        <div class="grid-2">
          <div>
            <label>Nombre de centres vaccinateurs</label>
            <input type="number" id="centres" min="0" />
          </div>
          <div>
            <label>Nombre d'√©quipes vaccinateurs</label>
            <input type="number" id="equipes" min="0" />
          </div>
        </div>

        <h4>Personnes vaccin√©es</h4>
        <div class="grid-2">
          <div><label>‚â•65 ans sans maladie chronique</label><input type="number" id="p65sain" min="0" value="0" oninput="calcTotal()" /></div>
          <div><label>‚â•65 ans avec maladie chronique</label><input type="number" id="p65malade" min="0" value="0" oninput="calcTotal()" /></div>
          <div><label>Maladies chroniques (adultes)</label><input type="number" id="maladults" min="0" value="0" oninput="calcTotal()" /></div>
          <div><label>Maladies chroniques (enfants)</label><input type="number" id="malenfants" min="0" value="0" oninput="calcTotal()" /></div>
          <div><label>Femmes enceintes</label><input type="number" id="enceintes" min="0" value="0" oninput="calcTotal()" /></div>
          <div><label>Personnel de sant√©</label><input type="number" id="sante" min="0" value="0" oninput="calcTotal()" /></div>
          <div><label>P√®lerins</label><input type="number" id="pelerins" min="0" value="0" oninput="calcTotal()" /></div>
          <div><label>Autres</label><input type="number" id="autres" min="0" value="0" oninput="calcTotal()" /></div>
        </div>

        <div class="total-box">
          <strong>Total Vaccin√©s : <span id="totalVaccines">0</span></strong>
        </div>

        <h4>Gestion des Doses</h4>
        <div class="grid-3">
          <div>
            <label>Quantit√© re√ßue (dose)</label>
            <input type="number" id="re√ßue" readonly />
          </div>
          <div>
            <label>Quantit√© administr√©e</label>
            <input type="number" id="administree" readonly />
          </div>
          <div>
            <label>Quantit√© restante</label>
            <input type="number" id="restante" readonly />
          </div>
        </div>

        <button type="submit" class="save-btn">üíæ Enregistrer</button>
      </form>
    </section>

    <section class="history-section">
      <h3>Historique des saisies</h3>
      <table id="historyTable">
        <thead>
          <tr>
            <th>Date</th>
            <th>Total Vaccin√©s</th>
            <th>Doses Administr√©es</th>
            <th>Restantes</th>
          </tr>
        </thead>
        <tbody></tbody>
      </table>
    </section>
  </div>

  <script src="scripts/script.js"></script>
  <script src="scripts/daily.js"></script>
</body>
</html>
