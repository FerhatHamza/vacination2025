<!DOCTYPE html>
<html lang="fr">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Saisie Journali√®re ‚Äì Vaccination Antigrippale</title>
    <link rel="stylesheet" href="assets/daily.css" />
  </head>
  <body onload="initPage()">
    <div class="container">
      <header class="header-bar">
        <img src="assets/logo.png" alt="Logo Sant√©" class="header-logo" />
        <div class="header-info">
          <h2>√âvaluation Vaccination Antigrippale 2025/2026</h2>
          <p id="etabName">Centre de Sant√© Principal</p>
        </div>
        <button class="logout-btn" onclick="logout()">D√©connexion</button>
      </header>

      <section class="form-section">
        <h3>Saisie Journali√®re</h3>
        <p class="date-display">
          <b>Date:</b> <span id="today">15 Octobre 2025</span>
        </p>

        <form id="vaccinationForm" onsubmit="saveDailyData(event)">
          <div class="grid-2">
            <div class="form-group">
              <label for="centres">Nombre de centres vaccinateurs</label>
              <input
                type="number"
                id="centres"
                name="centres"
                min="0"
                required
              />
            </div>
            <div class="form-group">
              <label for="equipes">Nombre d'√©quipes vaccinateurs</label>
              <input
                type="number"
                id="equipes"
                name="equipes"
                min="0"
                required
              />
            </div>
          </div>

          <h4>Personnes vaccin√©es</h4>
          <div class="grid-2">
            <div class="form-group">
              <label for="p65sain">‚â•65 ans sans maladie chronique</label>
              <input
                type="number"
                id="p65sain"
                name="p65sain"
                min="0"
                value="0"
                oninput="calcTotal()"
              />
            </div>
            <div class="form-group">
              <label for="p65malade">‚â•65 ans avec maladie chronique</label>
              <input
                type="number"
                id="p65malade"
                name="p65malade"
                min="0"
                value="0"
                oninput="calcTotal()"
              />
            </div>
            <div class="form-group">
              <label for="maladults">Maladies chroniques (adultes)</label>
              <input
                type="number"
                id="maladults"
                name="maladults"
                min="0"
                value="0"
                oninput="calcTotal()"
              />
            </div>
            <div class="form-group">
              <label for="malenfants">Maladies chroniques (enfants)</label>
              <input
                type="number"
                id="malenfants"
                name="malenfants"
                min="0"
                value="0"
                oninput="calcTotal()"
              />
            </div>
            <div class="form-group">
              <label for="enceintes">Femmes enceintes</label>
              <input
                type="number"
                id="enceintes"
                name="enceintes"
                min="0"
                value="0"
                oninput="calcTotal()"
              />
            </div>
            <div class="form-group">
              <label for="sante">Personnel de sant√©</label>
              <input
                type="number"
                id="sante"
                name="sante"
                min="0"
                value="0"
                oninput="calcTotal()"
              />
            </div>
            <div class="form-group">
              <label for="pelerins">P√®lerins</label>
              <input
                type="number"
                id="pelerins"
                name="pelerins"
                min="0"
                value="0"
                oninput="calcTotal()"
              />
            </div>
            <div class="form-group">
              <label for="autres">Autres</label>
              <input
                type="number"
                id="autres"
                name="autres"
                min="0"
                value="0"
                oninput="calcTotal()"
              />
            </div>
          </div>

          <div class="total-box">
            <strong>Total Vaccin√©s : <span id="totalVaccines">0</span></strong>
          </div>

          <h4>Gestion des Doses</h4>
          <div class="grid-3">
            <div class="form-group">
              <label for="recue">Quantit√© re√ßue (dose)</label>
              <input type="number" id="recue" name="recue" readonly />
            </div>
            <div class="form-group">
              <label for="administree">Quantit√© administr√©e</label>
              <input
                type="number"
                id="administree"
                name="administree"
                readonly
              />
            </div>
            <div class="form-group">
              <label for="restante">Quantit√© restante</label>
              <input type="number" id="restante" name="restante" readonly />
            </div>
          </div>

          <button type="submit" class="save-btn">üíæ Enregistrer</button>
        </form>
      </section>

      <section class="summary-section">
        <h3>R√©sum√© des Vaccinations</h3>
        <table class="summary-table">
          <thead>
            <tr>
              <th>Nombre de Personnes Vaccin√©es</th>
              <th>Nombre de personnes vaccin√©es</th>
            </tr>
          </thead>
          <tbody>
            <tr>
              <td>Personnes Ag√©es de 65 ans et plus</td>
              <td id="summary-65">0</td>
            </tr>
            <tr>
              <td>Maladies Chroniques (adultes)</td>
              <td id="summary-maladults">0</td>
            </tr>
            <tr>
              <td>Maladies Chroniques (enfants)</td>
              <td id="summary-malenfants">0</td>
            </tr>
            <tr>
              <td>Femmes enceintes</td>
              <td id="summary-enceintes">0</td>
            </tr>
            <tr>
              <td>Personnels de sant√©</td>
              <td id="summary-sante">0</td>
            </tr>
            <tr>
              <td>P√®lerins</td>
              <td id="summary-pelerins">0</td>
            </tr>
            <tr class="total-row">
              <td>Total adultes</td>
              <td id="summary-total-adultes">0</td>
            </tr>
            <tr class="total-row">
              <td>Total enfants</td>
              <td id="summary-total-enfants">0</td>
            </tr>
            <tr class="section-header">
              <td colspan="2">Gestion des doses</td>
            </tr>
            <tr>
              <td>Quantit√© de vaccins re√ßue</td>
              <td id="summary-recue">0</td>
            </tr>
            <tr>
              <td>Quantit√© de vaccins administr√©e</td>
              <td id="summary-administree">0</td>
            </tr>
            <tr>
              <td>Quantit√© restante de vaccins</td>
              <td id="summary-restante">0</td>
            </tr>
          </tbody>
        </table>
      </section>

      <section class="history-section">
        <h3>Historique des saisies</h3>
        <div class="table-container">
          <table id="historyTable">
            <thead>
              <tr>
                <th>Date</th>
                <th>Total Vaccin√©s</th>
                <th>Doses Administr√©es</th>
                <th>Restantes</th>
              </tr>
            </thead>
            <tbody>
              <tr>
                <td>14/10/2025</td>
                <td>145</td>
                <td>150</td>
                <td>350</td>
              </tr>
              <tr>
                <td>13/10/2025</td>
                <td>128</td>
                <td>130</td>
                <td>200</td>
              </tr>
              <tr>
                <td>12/10/2025</td>
                <td>112</td>
                <td>115</td>
                <td>70</td>
              </tr>
            </tbody>
          </table>
        </div>
      </section>
    </div>
  </body>
</html>
